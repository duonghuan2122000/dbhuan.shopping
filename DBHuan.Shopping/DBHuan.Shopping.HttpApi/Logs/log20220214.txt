2022-02-14 21:22:50.317 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-02-14 21:22:50.379 +07:00 [DBG] Hosting starting
2022-02-14 21:22:50.428 +07:00 [DBG] Loaded hosting startup assembly DBHuan.Shopping.HttpApi
2022-02-14 21:22:50.428 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-02-14 21:22:50.428 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-02-14 21:22:50.428 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2022-02-14 21:22:50.429 +07:00 [INF] Hosting environment: Development
2022-02-14 21:22:50.429 +07:00 [INF] Content root path: E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.HttpApi\
2022-02-14 21:22:50.429 +07:00 [DBG] Hosting started
2022-02-14 21:22:50.451 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44301/swagger - -
2022-02-14 21:22:50.715 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-02-14 21:22:50.743 +07:00 [DBG] No candidates found for the request path '/swagger'
2022-02-14 21:22:50.744 +07:00 [DBG] Request did not match any endpoints
2022-02-14 21:22:50.848 +07:00 [DBG] Connection ID "18158513703463419920" disconnecting.
2022-02-14 21:22:50.853 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44301/swagger - - - 301 - - 404.5557ms
2022-02-14 21:22:50.862 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44301/swagger/index.html - -
2022-02-14 21:22:50.865 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-02-14 21:22:50.865 +07:00 [DBG] Request did not match any endpoints
2022-02-14 21:22:50.952 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-02-14 21:22:51.724 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-02-14 21:22:51.725 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44301/swagger/index.html - - - 200 - text/html;charset=utf-8 863.3058ms
2022-02-14 21:22:51.734 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44301/swagger/swagger-ui.css - -
2022-02-14 21:22:51.734 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2022-02-14 21:22:51.734 +07:00 [DBG] Request did not match any endpoints
2022-02-14 21:22:51.734 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44301/swagger/swagger-ui-bundle.js - -
2022-02-14 21:22:51.734 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2022-02-14 21:22:51.734 +07:00 [DBG] Request did not match any endpoints
2022-02-14 21:22:51.735 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44301/swagger/swagger-ui-standalone-preset.js - -
2022-02-14 21:22:51.735 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2022-02-14 21:22:51.736 +07:00 [DBG] Request did not match any endpoints
2022-02-14 21:22:51.738 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44301/_framework/aspnetcore-browser-refresh.js - -
2022-02-14 21:22:51.748 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-02-14 21:22:51.773 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-02-14 21:22:51.775 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44301/_framework/aspnetcore-browser-refresh.js - - - 200 11957 application/javascript;+charset=utf-8 36.9008ms
2022-02-14 21:22:51.784 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-02-14 21:22:51.792 +07:00 [DBG] Connection ID "18158513703463419922" disconnecting.
2022-02-14 21:22:51.794 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44301/swagger/swagger-ui.css - - - 200 143632 text/css 60.0006ms
2022-02-14 21:22:51.795 +07:00 [DBG] Connection ID "18014398511092596737" disconnecting.
2022-02-14 21:22:51.797 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44301/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 62.8658ms
2022-02-14 21:22:51.816 +07:00 [DBG] Connection ID "18086456105130524675" disconnecting.
2022-02-14 21:22:51.816 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44301/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 81.8501ms
2022-02-14 21:22:52.069 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44301/swagger/v1/swagger.json - -
2022-02-14 21:22:52.069 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-02-14 21:22:52.069 +07:00 [DBG] Request did not match any endpoints
2022-02-14 21:22:52.182 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44301/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 113.6919ms
2022-02-14 21:22:52.183 +07:00 [DBG] Connection ID "18302628891539275797" disconnecting.
2022-02-14 21:23:07.280 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44301/customers/auth application/json 50
2022-02-14 21:23:07.286 +07:00 [DBG] 1 candidate(s) found for the request path '/customers/auth'
2022-02-14 21:23:07.292 +07:00 [DBG] Endpoint 'DBHuan.Shopping.HttpApi.CustomerController.Authenticate (DBHuan.Shopping.HttpApi)' with route pattern 'customers/auth' is valid for the request path '/customers/auth'
2022-02-14 21:23:07.293 +07:00 [DBG] Request matched endpoint 'DBHuan.Shopping.HttpApi.CustomerController.Authenticate (DBHuan.Shopping.HttpApi)'
2022-02-14 21:23:07.293 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-02-14 21:23:07.297 +07:00 [INF] Executing endpoint 'DBHuan.Shopping.HttpApi.CustomerController.Authenticate (DBHuan.Shopping.HttpApi)'
2022-02-14 21:23:07.331 +07:00 [INF] Route matched with {action = "Authenticate", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DBHuan.Shopping.Application.Contracts.AuthenticateReq) on controller DBHuan.Shopping.HttpApi.CustomerController (DBHuan.Shopping.HttpApi).
2022-02-14 21:23:07.332 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-02-14 21:23:07.332 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-02-14 21:23:07.332 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2022-02-14 21:23:07.332 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-02-14 21:23:07.332 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-02-14 21:23:07.334 +07:00 [DBG] Executing controller factory for controller DBHuan.Shopping.HttpApi.CustomerController (DBHuan.Shopping.HttpApi)
2022-02-14 21:23:07.339 +07:00 [DBG] Executed controller factory for controller DBHuan.Shopping.HttpApi.CustomerController (DBHuan.Shopping.HttpApi)
2022-02-14 21:23:07.344 +07:00 [DBG] Attempting to bind parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq' ...
2022-02-14 21:23:07.346 +07:00 [DBG] Attempting to bind parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq' using the name '' in request data ...
2022-02-14 21:23:07.347 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-02-14 21:23:07.357 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq'
2022-02-14 21:23:07.357 +07:00 [DBG] Done attempting to bind parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq'.
2022-02-14 21:23:07.357 +07:00 [DBG] Done attempting to bind parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq'.
2022-02-14 21:23:07.357 +07:00 [DBG] Attempting to validate the bound parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq' ...
2022-02-14 21:23:07.365 +07:00 [DBG] Done attempting to validate the bound parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq'.
2022-02-14 21:23:08.980 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-02-14 21:23:08.982 +07:00 [DBG] No information found on request to perform content negotiation.
2022-02-14 21:23:08.982 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-02-14 21:23:08.982 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-02-14 21:23:08.983 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-02-14 21:23:08.984 +07:00 [INF] Executing OkObjectResult, writing value of type 'DBHuan.Shopping.Application.Contracts.AuthenticateRes'.
2022-02-14 21:23:08.992 +07:00 [INF] Executed action DBHuan.Shopping.HttpApi.CustomerController.Authenticate (DBHuan.Shopping.HttpApi) in 1654.595ms
2022-02-14 21:23:08.992 +07:00 [INF] Executed endpoint 'DBHuan.Shopping.HttpApi.CustomerController.Authenticate (DBHuan.Shopping.HttpApi)'
2022-02-14 21:23:08.994 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44301/customers/auth application/json 50 - 200 - application/json;+charset=utf-8 1713.6747ms
2022-02-14 21:23:13.752 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44301/customers/auth application/json 51
2022-02-14 21:23:13.752 +07:00 [DBG] 1 candidate(s) found for the request path '/customers/auth'
2022-02-14 21:23:13.752 +07:00 [DBG] Endpoint 'DBHuan.Shopping.HttpApi.CustomerController.Authenticate (DBHuan.Shopping.HttpApi)' with route pattern 'customers/auth' is valid for the request path '/customers/auth'
2022-02-14 21:23:13.753 +07:00 [DBG] Request matched endpoint 'DBHuan.Shopping.HttpApi.CustomerController.Authenticate (DBHuan.Shopping.HttpApi)'
2022-02-14 21:23:13.753 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-02-14 21:23:13.753 +07:00 [INF] Executing endpoint 'DBHuan.Shopping.HttpApi.CustomerController.Authenticate (DBHuan.Shopping.HttpApi)'
2022-02-14 21:23:13.754 +07:00 [INF] Route matched with {action = "Authenticate", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DBHuan.Shopping.Application.Contracts.AuthenticateReq) on controller DBHuan.Shopping.HttpApi.CustomerController (DBHuan.Shopping.HttpApi).
2022-02-14 21:23:13.754 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-02-14 21:23:13.754 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-02-14 21:23:13.755 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2022-02-14 21:23:13.755 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-02-14 21:23:13.755 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-02-14 21:23:13.755 +07:00 [DBG] Executing controller factory for controller DBHuan.Shopping.HttpApi.CustomerController (DBHuan.Shopping.HttpApi)
2022-02-14 21:23:13.755 +07:00 [DBG] Executed controller factory for controller DBHuan.Shopping.HttpApi.CustomerController (DBHuan.Shopping.HttpApi)
2022-02-14 21:23:13.755 +07:00 [DBG] Attempting to bind parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq' ...
2022-02-14 21:23:13.756 +07:00 [DBG] Attempting to bind parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq' using the name '' in request data ...
2022-02-14 21:23:13.756 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-02-14 21:23:13.757 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq'
2022-02-14 21:23:13.757 +07:00 [DBG] Done attempting to bind parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq'.
2022-02-14 21:23:13.757 +07:00 [DBG] Done attempting to bind parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq'.
2022-02-14 21:23:13.757 +07:00 [DBG] Attempting to validate the bound parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq' ...
2022-02-14 21:23:13.758 +07:00 [DBG] Done attempting to validate the bound parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq'.
2022-02-14 21:23:13.808 +07:00 [INF] Executed action DBHuan.Shopping.HttpApi.CustomerController.Authenticate (DBHuan.Shopping.HttpApi) in 53.521ms
2022-02-14 21:23:13.809 +07:00 [INF] Executed endpoint 'DBHuan.Shopping.HttpApi.CustomerController.Authenticate (DBHuan.Shopping.HttpApi)'
2022-02-14 21:23:13.889 +07:00 [DBG] DBHuanShoppingMiddleware-Ex: DBHuan.Shopping.Domain.DBHuanShoppingException: Exception of type 'DBHuan.Shopping.Domain.DBHuanShoppingException' was thrown.
   at DBHuan.Shopping.Infrastructure.Repository.CustomerRepository.GetAsync(String username, String password) in E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.Infrastructure\Repository\Customer\CustomerRepository.cs:line 109
   at DBHuan.Shopping.Application.CustomerService.Authenticate(AuthenticateReq req) in E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.Application\Customer\CustomerService.cs:line 64
   at DBHuan.Shopping.HttpApi.CustomerController.Authenticate(AuthenticateReq req) in E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.HttpApi\Controllers\CustomerController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at DBHuan.Shopping.HttpApi.DBHuanShoppingMiddleware.Invoke(HttpContext context) in E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.HttpApi\Middleware\DBHuanShoppingMiddleware.cs:line 31
2022-02-14 21:23:13.989 +07:00 [DBG] Connection ID "18158513712053354498" disconnecting.
2022-02-14 21:23:13.989 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44301/customers/auth application/json 51 - 400 - application/json 237.6718ms
2022-02-14 21:31:28.329 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-02-14 21:31:28.396 +07:00 [DBG] Hosting starting
2022-02-14 21:31:28.440 +07:00 [DBG] Loaded hosting startup assembly DBHuan.Shopping.HttpApi
2022-02-14 21:31:28.440 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-02-14 21:31:28.440 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-02-14 21:31:28.440 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2022-02-14 21:31:28.440 +07:00 [INF] Hosting environment: Development
2022-02-14 21:31:28.440 +07:00 [INF] Content root path: E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.HttpApi\
2022-02-14 21:31:28.440 +07:00 [DBG] Hosting started
2022-02-14 21:31:28.464 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44301/swagger/index.html - -
2022-02-14 21:31:28.492 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-02-14 21:31:28.522 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-02-14 21:31:28.523 +07:00 [DBG] Request did not match any endpoints
2022-02-14 21:31:28.620 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-02-14 21:31:28.718 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-02-14 21:31:28.724 +07:00 [DBG] Connection ID "18230571306091282444" disconnecting.
2022-02-14 21:31:28.726 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44301/swagger/index.html - - - 200 - text/html;charset=utf-8 265.3923ms
2022-02-14 21:31:28.748 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44301/_framework/aspnetcore-browser-refresh.js - -
2022-02-14 21:31:28.752 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44301/_framework/aspnetcore-browser-refresh.js - - - 200 11957 application/javascript;+charset=utf-8 3.8296ms
2022-02-14 21:31:28.752 +07:00 [DBG] Connection ID "18302628895834243093" disconnecting.
2022-02-14 21:31:29.026 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44301/swagger/v1/swagger.json - -
2022-02-14 21:31:29.028 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-02-14 21:31:29.028 +07:00 [DBG] Request did not match any endpoints
2022-02-14 21:31:29.080 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44301/swagger/favicon-32x32.png - -
2022-02-14 21:31:29.080 +07:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2022-02-14 21:31:29.080 +07:00 [DBG] Request did not match any endpoints
2022-02-14 21:31:29.091 +07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-02-14 21:31:29.091 +07:00 [DBG] Connection ID "18302628895834243097" disconnecting.
2022-02-14 21:31:29.092 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44301/swagger/favicon-32x32.png - - - 200 628 image/png 10.7518ms
2022-02-14 21:31:29.135 +07:00 [DBG] Connection ID "18230571306091282446" disconnecting.
2022-02-14 21:31:29.135 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44301/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 108.9016ms
2022-02-14 21:31:49.495 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:44301/customers/auth application/json 57
2022-02-14 21:31:49.500 +07:00 [DBG] 1 candidate(s) found for the request path '/customers/auth'
2022-02-14 21:31:49.503 +07:00 [DBG] Endpoint 'DBHuan.Shopping.HttpApi.CustomerController.Authenticate (DBHuan.Shopping.HttpApi)' with route pattern 'customers/auth' is valid for the request path '/customers/auth'
2022-02-14 21:31:49.504 +07:00 [DBG] Request matched endpoint 'DBHuan.Shopping.HttpApi.CustomerController.Authenticate (DBHuan.Shopping.HttpApi)'
2022-02-14 21:31:49.504 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-02-14 21:31:49.509 +07:00 [INF] Executing endpoint 'DBHuan.Shopping.HttpApi.CustomerController.Authenticate (DBHuan.Shopping.HttpApi)'
2022-02-14 21:31:49.537 +07:00 [INF] Route matched with {action = "Authenticate", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DBHuan.Shopping.Application.Contracts.AuthenticateReq) on controller DBHuan.Shopping.HttpApi.CustomerController (DBHuan.Shopping.HttpApi).
2022-02-14 21:31:49.537 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-02-14 21:31:49.537 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-02-14 21:31:49.538 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2022-02-14 21:31:49.538 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-02-14 21:31:49.538 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-02-14 21:31:49.539 +07:00 [DBG] Executing controller factory for controller DBHuan.Shopping.HttpApi.CustomerController (DBHuan.Shopping.HttpApi)
2022-02-14 21:31:49.546 +07:00 [DBG] Executed controller factory for controller DBHuan.Shopping.HttpApi.CustomerController (DBHuan.Shopping.HttpApi)
2022-02-14 21:31:49.549 +07:00 [DBG] Attempting to bind parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq' ...
2022-02-14 21:31:49.551 +07:00 [DBG] Attempting to bind parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq' using the name '' in request data ...
2022-02-14 21:31:49.551 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-02-14 21:31:49.560 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq'
2022-02-14 21:31:49.560 +07:00 [DBG] Done attempting to bind parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq'.
2022-02-14 21:31:49.560 +07:00 [DBG] Done attempting to bind parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq'.
2022-02-14 21:31:49.560 +07:00 [DBG] Attempting to validate the bound parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq' ...
2022-02-14 21:31:49.567 +07:00 [DBG] Done attempting to validate the bound parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq'.
2022-02-14 21:31:50.143 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-02-14 21:31:50.145 +07:00 [DBG] No information found on request to perform content negotiation.
2022-02-14 21:31:50.145 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-02-14 21:31:50.145 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-02-14 21:31:50.145 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-02-14 21:31:50.146 +07:00 [INF] Executing OkObjectResult, writing value of type 'DBHuan.Shopping.Application.Contracts.AuthenticateRes'.
2022-02-14 21:31:50.154 +07:00 [INF] Executed action DBHuan.Shopping.HttpApi.CustomerController.Authenticate (DBHuan.Shopping.HttpApi) in 611.7926ms
2022-02-14 21:31:50.154 +07:00 [INF] Executed endpoint 'DBHuan.Shopping.HttpApi.CustomerController.Authenticate (DBHuan.Shopping.HttpApi)'
2022-02-14 21:31:50.157 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:44301/customers/auth application/json 57 - 200 - application/json;+charset=utf-8 661.3077ms
2022-02-14 21:52:01.303 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-02-14 21:52:01.401 +07:00 [DBG] Hosting starting
2022-02-14 21:52:01.463 +07:00 [DBG] Loaded hosting startup assembly DBHuan.Shopping.HttpApi
2022-02-14 21:52:01.463 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-02-14 21:52:01.463 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-02-14 21:52:01.463 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2022-02-14 21:52:01.464 +07:00 [INF] Hosting environment: Development
2022-02-14 21:52:01.464 +07:00 [INF] Content root path: E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.HttpApi\
2022-02-14 21:52:01.464 +07:00 [DBG] Hosting started
2022-02-14 21:52:01.506 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44301/swagger/index.html - -
2022-02-14 21:52:01.551 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-02-14 21:52:01.588 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-02-14 21:52:01.588 +07:00 [DBG] Request did not match any endpoints
2022-02-14 21:52:01.714 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-02-14 21:52:01.893 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-02-14 21:52:01.901 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44301/swagger/index.html - - - 200 - text/html;charset=utf-8 398.7182ms
2022-02-14 21:52:01.931 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44301/_framework/aspnetcore-browser-refresh.js - -
2022-02-14 21:52:01.936 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44301/_framework/aspnetcore-browser-refresh.js - - - 200 11957 application/javascript;+charset=utf-8 4.2053ms
2022-02-14 21:52:02.090 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44301/swagger/v1/swagger.json - -
2022-02-14 21:52:02.092 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-02-14 21:52:02.092 +07:00 [DBG] Request did not match any endpoints
2022-02-14 21:52:02.249 +07:00 [DBG] Connection ID "18158513703463419930" disconnecting.
2022-02-14 21:52:02.249 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44301/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 158.9564ms
2022-02-14 21:52:16.790 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44301/WeatherForecast - -
2022-02-14 21:52:16.794 +07:00 [DBG] 1 candidate(s) found for the request path '/WeatherForecast'
2022-02-14 21:52:16.800 +07:00 [DBG] Endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)' with route pattern 'WeatherForecast' is valid for the request path '/WeatherForecast'
2022-02-14 21:52:16.801 +07:00 [DBG] Request matched endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)'
2022-02-14 21:52:16.802 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-02-14 21:52:16.804 +07:00 [INF] Executing endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)'
2022-02-14 21:52:16.814 +07:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[DBHuan.Shopping.HttpApi.WeatherForecast] Get() on controller DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController (DBHuan.Shopping.HttpApi).
2022-02-14 21:52:16.817 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["DBHuan.Shopping.HttpApi.AuthAttribute.CustomerAuthorizeAttribute"]
2022-02-14 21:52:16.818 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-02-14 21:52:16.818 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2022-02-14 21:52:16.818 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-02-14 21:52:16.818 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-02-14 21:52:17.038 +07:00 [DBG] CustomerAuthorizeAttribute-Ex: Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '2/6/2022 9:12:30 AM', Current time: '2/14/2022 2:52:16 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at DBHuan.Shopping.HttpApi.AuthAttribute.CustomerAuthorizeAttribute.OnAuthorizationAsync(AuthorizationFilterContext context) in E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.HttpApi\AuthAttribute\CustomerAuthorizeAttribute.cs:line 59
2022-02-14 21:52:17.044 +07:00 [INF] Executed action DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi) in 220.8042ms
2022-02-14 21:52:17.046 +07:00 [INF] Executed endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)'
2022-02-14 21:52:17.050 +07:00 [DBG] DBHuanShoppingMiddleware-Ex: DBHuan.Shopping.Domain.DBHuanShoppingException: Exception of type 'DBHuan.Shopping.Domain.DBHuanShoppingException' was thrown.
   at DBHuan.Shopping.HttpApi.AuthAttribute.CustomerAuthorizeAttribute.OnAuthorizationAsync(AuthorizationFilterContext context) in E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.HttpApi\AuthAttribute\CustomerAuthorizeAttribute.cs:line 88
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at DBHuan.Shopping.HttpApi.DBHuanShoppingMiddleware.Invoke(HttpContext context) in E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.HttpApi\Middleware\DBHuanShoppingMiddleware.cs:line 31
2022-02-14 21:52:17.154 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44301/WeatherForecast - - - 401 - application/json 364.5759ms
2022-02-14 21:52:23.467 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:44301/customers/auth application/json 57
2022-02-14 21:52:23.467 +07:00 [DBG] 1 candidate(s) found for the request path '/customers/auth'
2022-02-14 21:52:23.467 +07:00 [DBG] Endpoint 'DBHuan.Shopping.HttpApi.CustomerController.Authenticate (DBHuan.Shopping.HttpApi)' with route pattern 'customers/auth' is valid for the request path '/customers/auth'
2022-02-14 21:52:23.467 +07:00 [DBG] Request matched endpoint 'DBHuan.Shopping.HttpApi.CustomerController.Authenticate (DBHuan.Shopping.HttpApi)'
2022-02-14 21:52:23.467 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-02-14 21:52:23.468 +07:00 [INF] Executing endpoint 'DBHuan.Shopping.HttpApi.CustomerController.Authenticate (DBHuan.Shopping.HttpApi)'
2022-02-14 21:52:23.493 +07:00 [INF] Route matched with {action = "Authenticate", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DBHuan.Shopping.Application.Contracts.AuthenticateReq) on controller DBHuan.Shopping.HttpApi.CustomerController (DBHuan.Shopping.HttpApi).
2022-02-14 21:52:23.494 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-02-14 21:52:23.494 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-02-14 21:52:23.494 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2022-02-14 21:52:23.494 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-02-14 21:52:23.494 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-02-14 21:52:23.495 +07:00 [DBG] Executing controller factory for controller DBHuan.Shopping.HttpApi.CustomerController (DBHuan.Shopping.HttpApi)
2022-02-14 21:52:23.496 +07:00 [DBG] Executed controller factory for controller DBHuan.Shopping.HttpApi.CustomerController (DBHuan.Shopping.HttpApi)
2022-02-14 21:52:23.499 +07:00 [DBG] Attempting to bind parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq' ...
2022-02-14 21:52:23.502 +07:00 [DBG] Attempting to bind parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq' using the name '' in request data ...
2022-02-14 21:52:23.503 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-02-14 21:52:23.512 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq'
2022-02-14 21:52:23.513 +07:00 [DBG] Done attempting to bind parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq'.
2022-02-14 21:52:23.513 +07:00 [DBG] Done attempting to bind parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq'.
2022-02-14 21:52:23.513 +07:00 [DBG] Attempting to validate the bound parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq' ...
2022-02-14 21:52:23.520 +07:00 [DBG] Done attempting to validate the bound parameter 'req' of type 'DBHuan.Shopping.Application.Contracts.AuthenticateReq'.
2022-02-14 21:52:24.031 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-02-14 21:52:24.032 +07:00 [DBG] No information found on request to perform content negotiation.
2022-02-14 21:52:24.032 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-02-14 21:52:24.032 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-02-14 21:52:24.033 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-02-14 21:52:24.033 +07:00 [INF] Executing OkObjectResult, writing value of type 'DBHuan.Shopping.Application.Contracts.AuthenticateRes'.
2022-02-14 21:52:24.036 +07:00 [INF] Executed action DBHuan.Shopping.HttpApi.CustomerController.Authenticate (DBHuan.Shopping.HttpApi) in 541.7698ms
2022-02-14 21:52:24.036 +07:00 [INF] Executed endpoint 'DBHuan.Shopping.HttpApi.CustomerController.Authenticate (DBHuan.Shopping.HttpApi)'
2022-02-14 21:52:24.037 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:44301/customers/auth application/json 57 - 200 - application/json;+charset=utf-8 570.6719ms
2022-02-14 21:52:33.458 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44301/WeatherForecast - -
2022-02-14 21:52:33.458 +07:00 [DBG] 1 candidate(s) found for the request path '/WeatherForecast'
2022-02-14 21:52:33.458 +07:00 [DBG] Endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)' with route pattern 'WeatherForecast' is valid for the request path '/WeatherForecast'
2022-02-14 21:52:33.458 +07:00 [DBG] Request matched endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)'
2022-02-14 21:52:33.459 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-02-14 21:52:33.459 +07:00 [INF] Executing endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)'
2022-02-14 21:52:33.459 +07:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[DBHuan.Shopping.HttpApi.WeatherForecast] Get() on controller DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController (DBHuan.Shopping.HttpApi).
2022-02-14 21:52:33.459 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["DBHuan.Shopping.HttpApi.AuthAttribute.CustomerAuthorizeAttribute"]
2022-02-14 21:52:33.459 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-02-14 21:52:33.459 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2022-02-14 21:52:33.459 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-02-14 21:52:33.459 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-02-14 21:52:33.482 +07:00 [DBG] CustomerAuthorizeAttribute-Ex: System.FormatException: Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseExactD(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at DBHuan.Shopping.HttpApi.AuthAttribute.CustomerAuthorizeAttribute.OnAuthorizationAsync(AuthorizationFilterContext context) in E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.HttpApi\AuthAttribute\CustomerAuthorizeAttribute.cs:line 75
2022-02-14 21:52:33.482 +07:00 [INF] Executed action DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi) in 22.7262ms
2022-02-14 21:52:33.482 +07:00 [INF] Executed endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)'
2022-02-14 21:52:33.484 +07:00 [DBG] DBHuanShoppingMiddleware-Ex: DBHuan.Shopping.Domain.DBHuanShoppingException: Exception of type 'DBHuan.Shopping.Domain.DBHuanShoppingException' was thrown.
   at DBHuan.Shopping.HttpApi.AuthAttribute.CustomerAuthorizeAttribute.OnAuthorizationAsync(AuthorizationFilterContext context) in E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.HttpApi\AuthAttribute\CustomerAuthorizeAttribute.cs:line 88
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at DBHuan.Shopping.HttpApi.DBHuanShoppingMiddleware.Invoke(HttpContext context) in E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.HttpApi\Middleware\DBHuanShoppingMiddleware.cs:line 31
2022-02-14 21:52:33.486 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44301/WeatherForecast - - - 401 - application/json 28.2141ms
2022-02-14 21:52:57.986 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44301/WeatherForecast - -
2022-02-14 21:52:57.986 +07:00 [DBG] 1 candidate(s) found for the request path '/WeatherForecast'
2022-02-14 21:52:57.986 +07:00 [DBG] Endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)' with route pattern 'WeatherForecast' is valid for the request path '/WeatherForecast'
2022-02-14 21:52:57.986 +07:00 [DBG] Request matched endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)'
2022-02-14 21:52:57.986 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-02-14 21:52:57.986 +07:00 [INF] Executing endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)'
2022-02-14 21:52:57.986 +07:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[DBHuan.Shopping.HttpApi.WeatherForecast] Get() on controller DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController (DBHuan.Shopping.HttpApi).
2022-02-14 21:52:57.986 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["DBHuan.Shopping.HttpApi.AuthAttribute.CustomerAuthorizeAttribute"]
2022-02-14 21:52:57.986 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-02-14 21:52:57.986 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2022-02-14 21:52:57.986 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-02-14 21:52:57.986 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-02-14 21:53:21.244 +07:00 [DBG] CustomerAuthorizeAttribute-Ex: System.FormatException: Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseExactD(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at DBHuan.Shopping.HttpApi.AuthAttribute.CustomerAuthorizeAttribute.OnAuthorizationAsync(AuthorizationFilterContext context) in E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.HttpApi\AuthAttribute\CustomerAuthorizeAttribute.cs:line 75
2022-02-14 21:53:21.245 +07:00 [INF] Executed action DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi) in 23258.9738ms
2022-02-14 21:53:21.246 +07:00 [INF] Executed endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)'
2022-02-14 21:53:21.247 +07:00 [DBG] DBHuanShoppingMiddleware-Ex: DBHuan.Shopping.Domain.DBHuanShoppingException: Exception of type 'DBHuan.Shopping.Domain.DBHuanShoppingException' was thrown.
   at DBHuan.Shopping.HttpApi.AuthAttribute.CustomerAuthorizeAttribute.OnAuthorizationAsync(AuthorizationFilterContext context) in E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.HttpApi\AuthAttribute\CustomerAuthorizeAttribute.cs:line 88
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at DBHuan.Shopping.HttpApi.DBHuanShoppingMiddleware.Invoke(HttpContext context) in E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.HttpApi\Middleware\DBHuanShoppingMiddleware.cs:line 31
2022-02-14 21:53:21.256 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44301/WeatherForecast - - - 401 - application/json 23269.9759ms
2022-02-14 21:53:32.276 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-02-14 21:53:32.347 +07:00 [DBG] Hosting starting
2022-02-14 21:53:32.399 +07:00 [DBG] Loaded hosting startup assembly DBHuan.Shopping.HttpApi
2022-02-14 21:53:32.399 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-02-14 21:53:32.399 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-02-14 21:53:32.399 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2022-02-14 21:53:32.400 +07:00 [INF] Hosting environment: Development
2022-02-14 21:53:32.400 +07:00 [INF] Content root path: E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.HttpApi\
2022-02-14 21:53:32.400 +07:00 [DBG] Hosting started
2022-02-14 21:53:32.430 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44301/swagger/index.html - -
2022-02-14 21:53:32.464 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-02-14 21:53:32.486 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-02-14 21:53:32.486 +07:00 [DBG] Request did not match any endpoints
2022-02-14 21:53:32.584 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-02-14 21:53:32.704 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-02-14 21:53:32.707 +07:00 [DBG] Connection ID "18014398511092596740" disconnecting.
2022-02-14 21:53:32.711 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44301/swagger/index.html - - - 200 - text/html;charset=utf-8 283.7238ms
2022-02-14 21:53:32.824 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44301/_framework/aspnetcore-browser-refresh.js - -
2022-02-14 21:53:32.828 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44301/_framework/aspnetcore-browser-refresh.js - - - 200 11957 application/javascript;+charset=utf-8 3.8013ms
2022-02-14 21:53:33.441 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44301/swagger/v1/swagger.json - -
2022-02-14 21:53:33.443 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-02-14 21:53:33.443 +07:00 [DBG] Request did not match any endpoints
2022-02-14 21:53:33.579 +07:00 [DBG] Connection ID "18302628895834243111" disconnecting.
2022-02-14 21:53:33.579 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44301/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 138.2044ms
2022-02-14 21:53:36.239 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44301/WeatherForecast - -
2022-02-14 21:53:36.243 +07:00 [DBG] 1 candidate(s) found for the request path '/WeatherForecast'
2022-02-14 21:53:36.246 +07:00 [DBG] Endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)' with route pattern 'WeatherForecast' is valid for the request path '/WeatherForecast'
2022-02-14 21:53:36.247 +07:00 [DBG] Request matched endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)'
2022-02-14 21:53:36.248 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-02-14 21:53:36.253 +07:00 [INF] Executing endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)'
2022-02-14 21:53:36.260 +07:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[DBHuan.Shopping.HttpApi.WeatherForecast] Get() on controller DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController (DBHuan.Shopping.HttpApi).
2022-02-14 21:53:36.263 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["DBHuan.Shopping.HttpApi.AuthAttribute.CustomerAuthorizeAttribute"]
2022-02-14 21:53:36.263 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-02-14 21:53:36.263 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2022-02-14 21:53:36.263 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-02-14 21:53:36.264 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-02-14 21:53:36.856 +07:00 [DBG] CustomerAuthorizeAttribute-Ex: DBHuan.Shopping.Domain.DBHuanShoppingException: Exception of type 'DBHuan.Shopping.Domain.DBHuanShoppingException' was thrown.
   at DBHuan.Shopping.HttpApi.AuthAttribute.CustomerAuthorizeAttribute.OnAuthorizationAsync(AuthorizationFilterContext context) in E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.HttpApi\AuthAttribute\CustomerAuthorizeAttribute.cs:line 79
2022-02-14 21:53:36.861 +07:00 [INF] Executed action DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi) in 593.7084ms
2022-02-14 21:53:36.862 +07:00 [INF] Executed endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)'
2022-02-14 21:53:36.873 +07:00 [DBG] DBHuanShoppingMiddleware-Ex: DBHuan.Shopping.Domain.DBHuanShoppingException: Exception of type 'DBHuan.Shopping.Domain.DBHuanShoppingException' was thrown.
   at DBHuan.Shopping.HttpApi.AuthAttribute.CustomerAuthorizeAttribute.OnAuthorizationAsync(AuthorizationFilterContext context) in E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.HttpApi\AuthAttribute\CustomerAuthorizeAttribute.cs:line 88
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at DBHuan.Shopping.HttpApi.DBHuanShoppingMiddleware.Invoke(HttpContext context) in E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.HttpApi\Middleware\DBHuanShoppingMiddleware.cs:line 31
2022-02-14 21:53:36.962 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44301/WeatherForecast - - - 401 - application/json 723.8654ms
2022-02-14 21:53:47.945 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44301/WeatherForecast - -
2022-02-14 21:53:47.946 +07:00 [DBG] 1 candidate(s) found for the request path '/WeatherForecast'
2022-02-14 21:53:47.946 +07:00 [DBG] Endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)' with route pattern 'WeatherForecast' is valid for the request path '/WeatherForecast'
2022-02-14 21:53:47.946 +07:00 [DBG] Request matched endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)'
2022-02-14 21:53:47.946 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-02-14 21:53:47.947 +07:00 [INF] Executing endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)'
2022-02-14 21:53:47.947 +07:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[DBHuan.Shopping.HttpApi.WeatherForecast] Get() on controller DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController (DBHuan.Shopping.HttpApi).
2022-02-14 21:53:47.948 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["DBHuan.Shopping.HttpApi.AuthAttribute.CustomerAuthorizeAttribute"]
2022-02-14 21:53:47.948 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-02-14 21:53:47.948 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2022-02-14 21:53:47.948 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-02-14 21:53:47.948 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-02-14 21:54:16.215 +07:00 [DBG] CustomerAuthorizeAttribute-Ex: DBHuan.Shopping.Domain.DBHuanShoppingException: Exception of type 'DBHuan.Shopping.Domain.DBHuanShoppingException' was thrown.
   at DBHuan.Shopping.HttpApi.AuthAttribute.CustomerAuthorizeAttribute.OnAuthorizationAsync(AuthorizationFilterContext context) in E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.HttpApi\AuthAttribute\CustomerAuthorizeAttribute.cs:line 79
2022-02-14 21:54:16.249 +07:00 [INF] Executed action DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi) in 28301.2417ms
2022-02-14 21:54:16.250 +07:00 [INF] Executed endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)'
2022-02-14 21:54:16.319 +07:00 [DBG] DBHuanShoppingMiddleware-Ex: DBHuan.Shopping.Domain.DBHuanShoppingException: Exception of type 'DBHuan.Shopping.Domain.DBHuanShoppingException' was thrown.
   at DBHuan.Shopping.HttpApi.AuthAttribute.CustomerAuthorizeAttribute.OnAuthorizationAsync(AuthorizationFilterContext context) in E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.HttpApi\AuthAttribute\CustomerAuthorizeAttribute.cs:line 88
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at DBHuan.Shopping.HttpApi.DBHuanShoppingMiddleware.Invoke(HttpContext context) in E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.HttpApi\Middleware\DBHuanShoppingMiddleware.cs:line 31
2022-02-14 21:54:16.323 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44301/WeatherForecast - - - 401 - application/json 28377.2101ms
2022-02-14 22:24:33.270 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-02-14 22:24:33.339 +07:00 [DBG] Hosting starting
2022-02-14 22:24:33.395 +07:00 [DBG] Loaded hosting startup assembly DBHuan.Shopping.HttpApi
2022-02-14 22:24:33.395 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-02-14 22:24:33.395 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-02-14 22:24:33.396 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2022-02-14 22:24:33.397 +07:00 [INF] Hosting environment: Development
2022-02-14 22:24:33.397 +07:00 [INF] Content root path: E:\github\dbhuan.shopping\DBHuan.Shopping\DBHuan.Shopping.HttpApi\
2022-02-14 22:24:33.397 +07:00 [DBG] Hosting started
2022-02-14 22:24:33.419 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44301/swagger/index.html - -
2022-02-14 22:24:33.450 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-02-14 22:24:33.477 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-02-14 22:24:33.477 +07:00 [DBG] Request did not match any endpoints
2022-02-14 22:24:33.628 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-02-14 22:24:33.748 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-02-14 22:24:33.756 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44301/swagger/index.html - - - 200 - text/html;charset=utf-8 337.8566ms
2022-02-14 22:24:33.866 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44301/_framework/aspnetcore-browser-refresh.js - -
2022-02-14 22:24:33.870 +07:00 [DBG] Connection ID "18014398511092596766" disconnecting.
2022-02-14 22:24:33.870 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44301/_framework/aspnetcore-browser-refresh.js - - - 200 11957 application/javascript;+charset=utf-8 3.8057ms
2022-02-14 22:24:34.259 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44301/swagger/v1/swagger.json - -
2022-02-14 22:24:34.260 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-02-14 22:24:34.260 +07:00 [DBG] Request did not match any endpoints
2022-02-14 22:24:34.357 +07:00 [DBG] Connection ID "18374686494167138329" disconnecting.
2022-02-14 22:24:34.357 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44301/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 98.0464ms
2022-02-14 22:24:49.160 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44301/WeatherForecast - -
2022-02-14 22:24:49.164 +07:00 [DBG] 1 candidate(s) found for the request path '/WeatherForecast'
2022-02-14 22:24:49.168 +07:00 [DBG] Endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)' with route pattern 'WeatherForecast' is valid for the request path '/WeatherForecast'
2022-02-14 22:24:49.168 +07:00 [DBG] Request matched endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)'
2022-02-14 22:24:49.169 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-02-14 22:24:49.171 +07:00 [INF] Executing endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)'
2022-02-14 22:24:49.181 +07:00 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[DBHuan.Shopping.HttpApi.WeatherForecast] Get() on controller DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController (DBHuan.Shopping.HttpApi).
2022-02-14 22:24:49.184 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["DBHuan.Shopping.HttpApi.AuthAttribute.CustomerAuthorizeAttribute"]
2022-02-14 22:24:49.185 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-02-14 22:24:49.185 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2022-02-14 22:24:49.185 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-02-14 22:24:49.185 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-02-14 22:24:49.880 +07:00 [DBG] Executing controller factory for controller DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController (DBHuan.Shopping.HttpApi)
2022-02-14 22:24:49.881 +07:00 [DBG] Executed controller factory for controller DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController (DBHuan.Shopping.HttpApi)
2022-02-14 22:24:49.884 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-02-14 22:24:49.885 +07:00 [DBG] No information found on request to perform content negotiation.
2022-02-14 22:24:49.885 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-02-14 22:24:49.885 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-02-14 22:24:49.886 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-02-14 22:24:49.886 +07:00 [INF] Executing ObjectResult, writing value of type 'DBHuan.Shopping.HttpApi.WeatherForecast[]'.
2022-02-14 22:24:49.899 +07:00 [INF] Executed action DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi) in 709.7861ms
2022-02-14 22:24:49.900 +07:00 [INF] Executed endpoint 'DBHuan.Shopping.HttpApi.Controllers.WeatherForecastController.Get (DBHuan.Shopping.HttpApi)'
2022-02-14 22:24:49.901 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:44301/WeatherForecast - - - 200 - application/json;+charset=utf-8 741.0681ms
